(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["bug-report-modal"],{5348:function(e,t,a){"use strict";a("69ee")},"69ee":function(e,t,a){},a110:function(e,t,a){"use strict";a("b6ad")},b6ad:function(e,t,a){},e85f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{attrs:{id:e.modalId,size:"md","hide-footer":!0}},[a("div",{staticClass:"bug-report-modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[e._m(0),e._m(1),a("div",{staticClass:"dialog-close"},[a("close-icon",{attrs:{purple:!0},on:{click:function(t){return e.close()}}})],1)]),a("div",[a("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.sendBugReport()}}},[a("div",{staticClass:"form-group"},[e._m(2),e._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",class:{"input-invalid":e.emailInvalid,"input-valid":e.emailValid},attrs:{id:"emailInput",type:"email",required:!0,placeholder:e.$t("reportEmailPlaceholder")},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e.emailInvalid?a("div",{staticClass:"error-label mt-2"},[e._v(" "+e._s(e.$t("reportEmailError"))+" ")]):e._e()]),e._m(4),e._m(5),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"form-control",class:{"input-invalid":e.messageInvalid&&0===this.message.length},attrs:{rows:"5",required:!0,placeholder:e.$t("reportDescriptionPlaceholder")},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),a("button",{staticClass:"btn btn-primary submit-button btn-block mx-auto mt-4",attrs:{type:"submit",disabled:!e.message||!e.emailValid}},[e._v(" "+e._s(e.$t("submitBugReport"))+" ")])])]),a("div",{staticClass:"modal-footer"},[a("a",{staticClass:"cancel-link mx-auto mb-4",on:{click:function(t){return t.preventDefault(),e.close()}}},[e._v(" "+e._s(e.$t("cancel"))+" ")])])])},l=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h2",[e._v(" "+e._s(e.$t("reportBug"))+" ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"report-bug-header-describe"},[e._v(" "+e._s(e.$t("reportBugHeaderDescribe"))+" ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{attrs:{for:"emailInput"}},[e._v(" "+e._s(e.$t("email"))+" ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb-2 description-label"},[e._v(" "+e._s(e.$t("reportEmailText"))+" ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[e._v(" "+e._s(e.$t("reportDescription"))+" ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb-2 description-label"},[e._v(" "+e._s(e.$t("reportDescriptionText"))+" ")])}],s=a("f3f3"),r=a("c964"),n=(a("96cf"),a("bc3a")),o=a.n(n),u=a("7966"),c=a.n(u),m=a("9513"),d=a("3a61"),v=a("fda0"),p={components:{closeIcon:m["a"]},data:function(){return{message:"",email:"",messageInvalid:!1,modalId:v["a"].BUG_REPORT}},methods:{sendBugReport:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.messageInvalid=!1,0!==e.message.length){t.next=4;break}return e.messageInvalid=!0,t.abrupt("return");case 4:return t.next=6,o.a.post("/api/v4/bug-report",{message:e.message,email:e.email});case 6:e.message="",e.close(),e.$root.$emit("bv::show::modal",v["a"].BUG_REPORT_SUCCESS);case 9:case"end":return t.stop()}}),t)})))()},close:function(){this.$root.$emit("bv::hide::modal",v["a"].BUG_REPORT)}},computed:Object(s["a"])(Object(s["a"])({},Object(d["d"])({user:"user.data"})),{},{emailValid:function(){return!(this.email.length<=3)&&c()(this.email)},emailInvalid:function(){return!(this.email.length<=3)&&!this.emailValid}}),mounted:function(){var e,t,a,i,l,s,r,n,o,u,c,m,d,v,p=this.user,f=null===(e=p.auth)||void 0===e||null===(t=e.local)||void 0===t?void 0:t.email;!f&&null!==(a=p.auth)&&void 0!==a&&null!==(i=a.facebook)&&void 0!==i&&i.emails&&(f=null===(o=p.auth.facebook.emails)||void 0===o||null===(u=o[0])||void 0===u?void 0:u.value);!f&&null!==(l=p.auth)&&void 0!==l&&null!==(s=l.google)&&void 0!==s&&s.emails&&(f=null===(c=p.auth.google.emails)||void 0===c||null===(m=c[0])||void 0===m?void 0:m.value);!f&&null!==(r=p.auth)&&void 0!==r&&null!==(n=r.apple)&&void 0!==n&&n.emails&&(f=null===(d=p.auth.apple.emails)||void 0===d||null===(v=d[0])||void 0===v?void 0:v.value);this.email=f}},f=p,g=(a("a110"),a("5348"),a("2877")),h=Object(g["a"])(f,i,l,!1,null,"3a191a0f",null);t["default"]=h.exports}}]);
//# sourceMappingURL=bug-report-modal.e23dd70b.js.map