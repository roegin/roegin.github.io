(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["challenges~group-plans~shops-quest~shops-timetravelers~userTasks"],{"1b97":function(t,e,i){"use strict";i("fb20")},"232ff":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.displayName?i("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:t.tierTitle,expression:"tierTitle",modifiers:{hover:!0,top:!0}}],staticClass:"user-label",class:t.levelStyle()},[t._v(" "+t._s(t.displayName)+" "),t.hasTier?i("div",{staticClass:"svg-icon",domProps:{innerHTML:t._s(t.tierIcon())}}):t._e()]):t._e()},n=[],o=(i("dca8"),i("b0c0"),i("50c7")),a=i("216a"),r=i("2aad"),c=i.n(r),u=i("64dd"),l=i.n(u),m=i("8bed"),d=i.n(m),h=i("10e6"),p=i.n(h),f=i("40c7"),v=i.n(f),g=i("a363"),b=i.n(g),y=i("9490"),_=i.n(y),C=i("283b"),k=i.n(C),T=i("e61f"),P=i.n(T),x=i("c722"),w=i.n(x),$={mixins:[a["a"]],props:["user","name","backer","contributor","hideTooltip"],data:function(){return{icons:Object.freeze({tier1:c.a,tier2:l.a,tier3:d.a,tier4:p.a,tier5:v.a,tier6:b.a,tier7:_.a,tier8:k.a,tier9:P.a,tierNPC:w.a})}},computed:{displayName:function(){return this.name?this.name:this.user&&this.user.profile?this.user.profile.name:null},level:function(){return this.contributor?this.contributor.level:this.user&&this.user.contributor?this.user.contributor.level:0},isNPC:function(){return this.backer?800===this.backer.tier:!(!this.user||!this.user.backer)&&800===this.user.backer.tier},hasTier:function(){return this.isNPC||0!==this.level}},methods:{tierIcon:function(){return this.isNPC?this.icons.tierNPC:this.icons["tier".concat(this.level)]},tierTitle:function(){return this.hideTooltip?"":o["a"].getContribText(this.contributor,this.isNPC)||""},levelStyle:function(){return this.userLevelStyleFromLevel(this.level,this.isNPC)}}},I=$,q=(i("6024"),i("2877")),B=Object(q["a"])(I,s,n,!1,null,"a47a54fe",null);e["a"]=B.exports},"23c8":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"item-wrapper",attrs:{id:t.itemId,tabindex:"0"},on:{click:function(e){return t.click()},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.click()},blur:t.blur}},[i("div",{staticClass:"item",class:t.getItemClasses()},[t._t("itemBadge",null,{item:t.item,emptyItem:t.emptyItem}),t.item.event&&null==t.item.owned&&t.showEventBadge?i("span",{staticClass:"badge badge-round badge-item badge-clock"},[i("span",{staticClass:"svg-icon inline clock",domProps:{innerHTML:t._s(t.icons.clock)}})]):t._e(),t.item.locked?i("span",{staticClass:"svg-icon inline lock",domProps:{innerHTML:t._s(t.icons.lock)}}):t._e(),t.item.completed?i("span",{staticClass:"svg-icon inline check",domProps:{innerHTML:t._s(t.icons.check)}}):t._e(),t.item.isSuggested?i("span",{staticClass:"suggestedDot"}):t._e(),i("div",{staticClass:"image"},[t._m(0),t._t("itemImage",null,{item:t.item})],2),i("div",{staticClass:"price d-flex align-items-center justify-content-center",class:t.currencyClass},[t._m(1),t._m(2)])],2)]),t.showPopover?i("b-popover",{ref:"popover",attrs:{target:t.itemId,triggers:"hover focus",placement:t.popoverPosition}},[t._t("popoverContent",(function(){return["gear"===t.item.purchaseType?i("equipmentAttributesPopover",{attrs:{item:t.item}}):"quests"===t.item.purchaseType?i("div",{staticClass:"questPopover"},[i("h4",{staticClass:"popover-content-title"},[t._v(" "+t._s(t.item.text)+" ")]),i("questInfo",{attrs:{quest:t.item}})],1):i("div",[t._m(3),t.showNotes&&"armoire"!==t.item.key?t._m(4):t._e(),t.showNotes&&"armoire"===t.item.key?i("div",{staticClass:"popover-content-text"},[t._v(" "+t._s(t.item.notes)+" ")]):t._e()]),t.item.event&&"quests"!==t.item.purchaseType?i("div",{class:"gear"===t.item.purchaseType?"mt-4":"mt-2"},[t._v(" "+t._s(t.limitedString)+" ")]):t._e()]}),{item:t.item})],2):t._e()],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.item.class})},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"svg-icon inline icon-16 mr-1",class:{"w-0":"unlock"===t.currencyClass},domProps:{innerHTML:t._s(t.icons[t.currencyClass])}})},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"price-label",class:t.currencyClass},[t._v(t._s(t.getPrice()))])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h4",{staticClass:"popover-content-title"},[t._v(" "+t._s(t.item.text)+" ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"popover-content-text"},[t._v(" "+t._s(t.item.notes)+" ")])}],o=(i("a9e3"),i("dca8"),i("ec26")),a=i("c1df"),r=i.n(a),c=i("2809"),u=i.n(c),l=i("2353"),m=i.n(l),d=i("6812"),h=i.n(d),p=i("3b18"),f=i.n(p),v=i("4a24"),g=i.n(v),b=i("3175"),y=i.n(b),_=i("98af"),C=i("064b"),k={components:{EquipmentAttributesPopover:_["a"],QuestInfo:C["a"]},props:{item:{type:Object},price:{type:Number,default:-1},emptyItem:{type:Boolean,default:!1},highlightBorder:{type:Boolean,default:!1},popoverPosition:{type:String,default:"bottom"},showPopover:{type:Boolean,default:!0},showEventBadge:{type:Boolean,default:!0},owned:{type:Boolean,default:!1}},data:function(){return{itemId:Object(o["a"])(),icons:Object.freeze({gems:u.a,gold:m.a,lock:f.a,check:g.a,hourglasses:h.a,clock:y.a}),timer:"",limitedString:""}},computed:{showNotes:function(){return["armoire","potion"].indexOf(this.item.path)>-1},currencyClass:function(){return this.item.unlockCondition&&"party invite"===this.item.unlockCondition.condition&&!this.owned?"unlock":this.item.currency&&this.icons[this.item.currency]?this.item.currency:"gold"}},mounted:function(){var t=this;this.countdownString(),this.timer=setInterval(this.countdownString,1e3),this.$root.$on("buyModal::hidden",(function(e){t.$refs&&t.$refs.popover&&e===t.item.key&&(t.$refs.popover.$emit("close"),t.$refs.popover.$emit("disable"))}))},beforeDestroy:function(){this.cancelAutoUpdate()},methods:{click:function(){this.$emit("click",{})},blur:function(){this.$refs.popover.$emit("enable")},getPrice:function(){return this.item.unlockCondition&&"party invite"===this.item.unlockCondition.condition&&!this.owned?this.item.unlockCondition.text():-1===this.price?this.item.value:this.price},getItemClasses:function(){return{"item-empty":this.emptyItem,"highlight-border":this.highlightBorder,suggested:this.item.isSuggested,locked:this.item.locked,completed:this.item.completed}},countdownString:function(){if(this.item.event){var t=r.a.duration(r()(this.item.event.end).diff(r()()));t.asSeconds()<=0?this.limitedString=this.$t("noLongerAvailable"):t.days()>0||t.months()>0?this.limitedString=this.$t("limitedAvailabilityDays",{days:r()(this.item.event.end).diff(r()(),"days"),hours:t.hours(),minutes:t.minutes()}):t.asMinutes()>2?this.limitedString=this.$t("limitedAvailabilityHours",{hours:t.hours(),minutes:t.minutes()}):this.limitedString=this.$t("limitedAvailabilityMinutes",{minutes:t.minutes(),seconds:t.seconds()})}},cancelAutoUpdate:function(){clearInterval(this.timer)}}},T=k,P=(i("791a"),i("2877")),x=Object(P["a"])(T,s,n,!1,null,"e8824738",null);e["a"]=x.exports},"3ece":function(t,e,i){},6024:function(t,e,i){"use strict";i("3ece")},"60de":function(t,e,i){},"791a":function(t,e,i){"use strict";i("9274")},9274:function(t,e,i){},df42:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-modal",{attrs:{id:"buy-quest-modal","hide-header":!0},on:{change:function(e){return t.onChange(e)}}},[t.withPin?i("span",{staticClass:"badge-dialog",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.togglePinned()}}},[i("pin-badge",{attrs:{pinned:t.isPinned}})],1):t._e(),i("div",{staticClass:"dialog-close"},[i("close-icon",{on:{click:function(e){return t.hideDialog()}}})],1),i("h2",{staticClass:"text-center textCondensed"},[t._v(" "+t._s(t.$t("questDetails"))+" ")]),null!=t.item?i("div",{staticClass:"content"},[i("div",{staticClass:"inner-content"},[i("questDialogContent",{attrs:{item:t.item,abbreviated:!0}}),i("quest-rewards",{attrs:{quest:t.item}}),t.item.locked?t._e():i("div",{staticClass:"purchase-amount"},[i("div",{staticClass:"item-cost"},[i("span",{staticClass:"cost",class:t.priceType},[i("span",{staticClass:"svg-icon inline icon-24",attrs:{"aria-hidden":"true"},domProps:{innerHTML:t._s(t.icons[t.priceType])}}),i("span",{class:t.priceType},[t._v(t._s(t.item.value))])])]),i("div",{staticClass:"how-many-to-buy"},[i("strong",[t._v(t._s(t.$t("howManyToBuy")))])]),t.item.addlNotes?i("div",{staticClass:"mb-3"},[t._v(" "+t._s(t.item.addlNotes)+" ")]):t._e(),i("div",[i("number-increment",{on:{updateQuantity:function(e){t.selectedAmountToBuy=e}}})],1),i("div",{staticClass:"total-row"},[i("span",{staticClass:"total-text"},[t._v(" "+t._s(t.$t("sendTotal"))+" ")]),i("span",{staticClass:"svg-icon inline icon-20",attrs:{"aria-hidden":"true"},domProps:{innerHTML:t._s(t.currencyIcon)}}),i("span",{staticClass:"total",class:t.priceType},[t._v(t._s(t.item.value*t.selectedAmountToBuy))])])]),"gems"!==t.priceType||t.enoughCurrency(t.priceType,t.item.value*t.selectedAmountToBuy)||t.item.locked?i("button",{staticClass:"btn btn-primary mb-4",class:{notEnough:!t.enoughCurrency(t.priceType,t.item.value*t.selectedAmountToBuy)},attrs:{disabled:t.numberInvalid},on:{click:function(e){return t.buyItem()}}},[t._v(" "+t._s(t.$t("buyNow"))+" ")]):i("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.purchaseGems()}}},[t._v(" "+t._s(t.$t("purchaseGems"))+" ")])],1)]):t._e(),t.item.event?i("countdown-banner",{attrs:{"end-date":t.endDate}}):t._e(),i("div",{staticClass:"clearfix",attrs:{slot:"modal-footer"},slot:"modal-footer"},[i("span",{staticClass:"balance float-left"},[t._v(t._s(t.$t("yourBalance")))]),i("balanceInfo",{staticClass:"float-right",attrs:{"with-hourglass":"hourglasses"===t.priceType,"currency-needed":t.priceType,"amount-needed":t.item.value}})],1)],1)},n=[],o=i("f3f3"),a=(i("dca8"),i("0481"),i("c1df")),r=i.n(a),c=i("3a61"),u=i("3175"),l=i.n(u),m=i("bb7c"),d=i.n(m),h=i("eb87"),p=i.n(h),f=i("2809"),v=i.n(f),g=i("2353"),b=i.n(g),y=i("6812"),_=i.n(y),C=i("8bc6"),k=i.n(C),T=i("312b"),P=i.n(T),x=i("6baf"),w=i("abbc"),$=i("234a"),I=i("091d"),q=i("c9ad"),B=i("ba0c"),N=i("0e1a"),O=i("1bc0"),j=i("fc0a"),S=i("2296"),A=i("9513"),E={components:{CloseIcon:A["a"],QuestRewards:S["a"],BalanceInfo:x["a"],PinBadge:B["a"],questDialogContent:j["a"],CountdownBanner:N["a"],numberIncrement:O["a"]},mixins:[I["a"],w["a"],$["a"],q["a"]],props:{item:{type:Object},priceType:{type:String,default:""},withPin:{type:Boolean}},data:function(){return{icons:Object.freeze({clock:l.a,close:d.a,experience:p.a,gems:v.a,gold:b.a,hourglasses:_.a,positive:k.a,negative:P.a}),isPinned:!1,selectedAmountToBuy:1}},computed:Object(o["a"])(Object(o["a"])({},Object(c["d"])({content:"content"})),{},{itemText:function(){return this.item.text instanceof Function?this.item.text():this.item.text},itemNotes:function(){return this.item.notes instanceof Function?this.item.notes():this.item.notes},currencyIcon:function(){return"gold"===this.priceType?this.icons.gold:"hourglasses"===this.priceType?this.icons.hourglasses:this.icons.gems},endDate:function(){return r()(this.item.event.end)}}),watch:{item:function(){this.isPinned=this.item&&this.item.pinned}},methods:{onChange:function(t){this.selectedAmountToBuy=1,this.$emit("change",t)},buyItem:function(){this.confirmPurchase(this.item.currency,this.item.value*this.selectedAmountToBuy)&&(this.makeGenericPurchase(this.item,"buyQuestModal",this.selectedAmountToBuy),this.purchased(this.item.text),this.hideDialog())},togglePinned:function(){this.isPinned=this.$store.dispatch("user:togglePinnedItem",{type:this.item.pinType,path:this.item.path}),this.isPinned||this.text(this.$t("unpinnedItem",{item:this.item.text}))},hideDialog:function(){this.$root.$emit("bv::hide::modal","buy-quest-modal")},getDropIcon:function(t){switch(t.type){case"gear":return"shop_".concat(t.key);case"hatchingPotions":return"Pet_HatchingPotion_".concat(t.key);case"food":return"Pet_Food_".concat(t.key);case"eggs":return"Pet_Egg_".concat(t.key);case"quests":return"inventory_quest_scroll_".concat(t.key);default:return""}},getDropName:function(t){switch(t.type){case"gear":return this.content.gear.flat[t.key].text();case"quests":return this.content.quests[t.key].text();case"hatchingPotions":return this.$t("namedHatchingPotion",{type:this.content.hatchingPotions[t.key].text()});case"food":return this.content.food[t.key].text();case"eggs":return this.content.eggs[t.key].text();default:return"Unknown type: ".concat(t.type)}},purchaseGems:function(){this.$root.$emit("bv::show::modal","buy-gems")}}},D=E,M=(i("e811"),i("2877")),L=Object(M["a"])(D,s,n,!1,null,null,null);e["a"]=L.exports},e811:function(t,e,i){"use strict";i("60de")},fb20:function(t,e,i){},fc0a:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"quest-content"},[i("div",{staticClass:"quest-image",class:"quest_"+t.item.key}),i("h3",{staticClass:"text-center"},[t._v(" "+t._s(t.itemText)+" ")]),t.group&&t.leader?i("div",{staticClass:"leader-label"},[t._m(0),i("user-label",{attrs:{user:t.leader}})],1):t._e(),i("div",{staticClass:"text",domProps:{innerHTML:t._s(t.itemNotes)}}),i("questInfo",{staticClass:"questInfo",attrs:{quest:t.item,abbreviated:!0}})],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[t._v(" "+t._s(t.$t("questOwner"))+": ")])}],o=i("c964"),a=(i("96cf"),i("064b")),r=i("232ff"),c={components:{UserLabel:r["a"],QuestInfo:a["a"]},props:{item:{type:Object},group:{type:Object}},data:function(){return{leader:null}},computed:{itemText:function(){return this.item.text instanceof Function?this.item.text():this.item.text},itemNotes:function(){return this.item.notes instanceof Function?this.item.notes():this.item.notes}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.group&&t.group.quest&&t.group.quest.active)){e.next=11;break}return e.prev=1,e.next=4,t.$store.dispatch("members:fetchMember",{memberId:t.group.quest.leader});case 4:i=e.sent,t.leader=i,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),t.leader=null;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()}},u=c,l=(i("1b97"),i("2877")),m=Object(l["a"])(u,s,n,!1,null,"77c30a3a",null);e["a"]=m.exports}}]);
//# sourceMappingURL=challenges~group-plans~shops-quest~shops-timetravelers~userTasks.e42a5829.js.map