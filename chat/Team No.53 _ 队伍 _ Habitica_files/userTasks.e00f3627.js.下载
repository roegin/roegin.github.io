(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["userTasks"],{"0076":function(t,e,s){"use strict";s("dfb3")},1107:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></svg>'},"21dc":function(t,e,s){"use strict";var a=s("2b0e"),n=s("0f32"),i=s.n(n),r=s("05be"),o="mouseMoved";e["a"]={bind:function(t,e,s){t.handleMouseMove=i()((function(t){Object(r["a"])(s,o,{x:t.clientX,y:t.clientY})}),e.value),window.addEventListener("mousemove",t.handleMouseMove),a["default"].nextTick(t.handleWindowResize)},unbind:function(t){window.removeEventListener("mousemove",t.handleMouseMove)}}},2278:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 2"><path fill="none" stroke="#878190" stroke-width="2" d="M0 1h10"></path></svg>'},"24ac":function(t,e,s){},"2af2":function(t,e,s){"use strict";s("6cde")},"6cde":function(t,e,s){},"80ee":function(t,e,s){},"86bb":function(t,e,s){},"9af5":function(t,e,s){"use strict";s("86bb")},"9fa4":function(t,e,s){"use strict";s("24ac")},a841:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 11"><path d="M5 3v8m4-5L5 2 1 6" fill="none" fill-rule="evenodd" stroke="#878190" stroke-width="2"></path></svg>'},aa16:function(t,e,s){"use strict";s("d0cd")},acdd:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{attrs:{id:"task-summary","hide-footer":!0},on:{hidden:function(e){return t.$emit("cancel")}}},[t.task?s("div",{staticClass:"task-modal-header px-4 d-flex align-items-center",class:t.cssClass("bg"),attrs:{slot:"modal-header"},slot:"modal-header"},[s("h2",{staticClass:"my-auto",class:t.cssClass("headings")},[t._v(" "+t._s(t.title)+" ")]),s("div",{staticClass:"svg-icon color close-x ml-auto my-auto",class:t.cssClass("headings"),attrs:{"aria-hidden":"true",tabindex:"0"},domProps:{innerHTML:t._s(t.icons.close)},on:{click:function(e){return t.cancel()},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.cancel()}}})]):t._e(),t.task?s("div",{staticClass:"task-modal-content pt-3 px-4 pb-4"},[s("div",{staticClass:"summary-block"},[s("h3",[t._v(" "+t._s(t.$t("title"))+" ")]),s("p",[t._v(" "+t._s(t.task.text)+" ")])]),t.task.notes?s("div",{staticClass:"summary-block"},[s("h3",[t._v(" "+t._s(t.$t("notes"))+" ")]),s("p",[t._v(" "+t._s(t.task.notes)+" ")])]):t._e(),s("div",{staticClass:"summary-block"},[s("h3",[t._v(" "+t._s(t.$t("description"))+" ")]),s("p",{domProps:{innerHTML:t._s(t.summarySentence)}})]),t.task.checklist&&t.task.checklist.length>0?s("div",{staticClass:"summary-block"},[s("checklist",{attrs:{items:t.task.checklist,disableDrag:!0,disableEdit:!0},on:{"update:items":function(e){return t.$set(t.task,"checklist",e)}}})],1):t._e(),t.assignedUsernames.length>0?s("div",{staticClass:"summary-block"},[s("h3",[t._v(" "+t._s(t.$t("assignedTo"))+" ")]),s("div",{staticClass:"d-flex flex-wrap"},t._l(t.assignedUsernames,(function(e){return s("span",{key:e,staticClass:"assigned-member py-1 px-75 mb-1 mr-1"},[t._v(" @"+t._s(e)+" ")])})),0)]):t._e()]):t._e(),t.task&&t.task.group&&t.task.group.assignedUsersDetail&&t.task.group.assignedUsersDetail[t.user._id]?s("div",{staticClass:"assignment-footer text-center py-2",domProps:{innerHTML:t._s(t.$t("assignedDateAndUser",{username:t.task.group.assignedUsersDetail[t.user._id].assigningUsername,date:t.formattedDate(t.task.group.assignedUsersDetail[t.user._id].assignedDate)}))}}):t._e()])},n=[],i=s("54f8"),r=s("f3f3"),o=(s("dca8"),s("99af"),s("38cf"),s("159b"),s("fb6a"),s("a15b"),s("a9e3"),s("ec69")),l=s.n(o),c=s("c1df"),d=s.n(c),u=s("77c1"),g=s.n(u),h=s("757d"),p=s("3a61"),k=s("bb7c"),f=s.n(k),m={components:{checklist:h["a"]},props:["task"],data:function(){return{expandDayString:{su:"Sunday",m:"Monday",t:"Tuesday",w:"Wednesday",th:"Thursday",f:"Friday",s:"Saturday"},icons:Object.freeze({close:f.a})}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(p["c"])({getTaskClasses:"tasks:getTaskClasses"})),Object(p["d"])({user:"user.data"})),{},{assignedUsernames:function(){if(!this.task.group||!this.task.group.assignedUsers||!this.task.group.assignedUsersDetail)return[];var t,e=[],s=Object(i["a"])(this.task.group.assignedUsers);try{for(s.s();!(t=s.n()).done;){var a=t.value;e.push(this.task.group.assignedUsersDetail[a].assignedUsername)}}catch(n){s.e(n)}finally{s.f()}return e},summarySentence:function(){return"daily"===this.task.type&&d()().isBefore(this.task.startDate)?"This is ".concat(this.formattedDifficulty(this.task.priority)," task that will repeat\n        ").concat(this.formattedRepeatInterval(this.task.frequency,this.task.everyX)).concat(this.formattedDays(this.task.frequency,this.task.repeat,this.task.daysOfMonth,this.task.weeksOfMonth,this.task.startDate),"\n        starting on <strong>").concat(d()(this.task.startDate).format("MM/DD/YYYY"),"</strong>."):"daily"===this.task.type?"This is ".concat(this.formattedDifficulty(this.task.priority)," task that repeats\n        ").concat(this.formattedRepeatInterval(this.task.frequency,this.task.everyX)).concat(this.formattedDays(this.task.frequency,this.task.repeat,this.task.daysOfMonth,this.task.weeksOfMonth,this.task.startDate),"."):this.task.date?"This is ".concat(this.formattedDifficulty(this.task.priority)," task that is due <strong>").concat(d()(this.task.date).format("MM/DD/YYYY"),"."):"This is ".concat(this.formattedDifficulty(this.task.priority)," task.")},title:function(){var t=this.$t(this.task.type);return this.$t("taskSummary",{type:t})}}),methods:{cancel:function(){this.$root.$emit("bv::hide::modal","task-summary")},cssClass:function(t){return this.task?this.getTaskClasses(this.task,"edit-modal-".concat(t)):""},formattedDate:function(t){return d()(t).format("MM/DD/YYYY")},formattedDays:function(t,e,s,a,n){var i,r=this,o=[];switch(t){case"weekly":if(i=l()(g()(e,(function(t){return!0===t}))),0===i.length)return" on <strong>no days</strong>";if(7===i.length)return" on <strong>every day of the week</strong>";o.push(" on <strong>"),i.forEach((function(t,e){i.length>1&&e===i.length-1&&o.push(" and"),o.push(" ".concat(r.expandDayString[t])),i.length>2&&e!==i.length-1&&o.push(",")})),o.push("</strong>");break;case"monthly":if(o.push(" on <strong>the "),s.length>0)s.forEach((function(t,e){var a=String(t),n=a.slice(-1),i="th";"1"===n&&"11"!==a&&(i="st"),"2"===n&&"12"!==a&&(i="nd"),"3"===n&&"13"!==a&&(i="rd"),s.length>1&&e===s.length-1&&o.push(" and"),o.push("".concat(a).concat(i)),s.length>2&&e!==s.length-1&&o.push(",")})),o.push("</strong>");else if(a.length>0){switch(a[0]){case 0:o.push("first");break;case 1:o.push("second");break;case 2:o.push("third");break;case 3:o.push("fourth");break;case 4:o.push("fifth");break;default:break}i=l()(g()(e,(function(t){return!0===t}))),o.push(" ".concat(this.expandDayString[i[0]]," of the month</strong>"))}break;case"yearly":return" on <strong>".concat(d()(n).format("MMMM Do"),"</strong>");default:return""}return o.join("")},formattedDifficulty:function(t){switch(t){case.1:return"a <strong>trivial</strong>";case 1:return"an <strong>easy</strong>";case 1.5:return"a <strong>medium</strong>";case 2:return"a <strong>hard</strong>";default:return null}},formattedRepeatInterval:function(t,e){var s=Number(e);switch(t){case"daily":return 1===s?"<strong>every day</strong>":2===s?"<strong>every other day</strong>":"<strong>every ".concat(s," days</strong>");case"weekly":return 1===s?"<strong>every week</strong>":2===s?"<strong>every other week</strong>":"<strong>every ".concat(s," weeks</strong>");case"monthly":return 1===s?"<strong>every month</strong>":2===s?"<strong>every other month</strong>":"<strong>every ".concat(s," months</strong>");case"yearly":return 1===s?"<strong>every year</strong>":"<strong>every ".concat(e," years</strong>");default:return null}}}},v=m,y=(s("9af5"),s("2af2"),s("2877")),b=Object(y["a"])(v,a,n,!1,null,"78f427d1",null);e["a"]=b.exports},b505:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"drawer-container"},[s("div",{staticClass:"drawer-title",class:{"no-padding":t.noTitleBottomPadding},on:{click:function(e){return t.toggle()}}},[s("div",{staticClass:"title-row"},[t._t("drawer-title-row",(function(){return[s("div",{staticClass:"text-only"},[t._v(" "+t._s(t.title)+" ")])]}))],2),s("div",{staticClass:"drawer-toggle-icon svg-icon icon-10",class:{closed:!t.isOpen},domProps:{innerHTML:t._s(t.isOpen?t.icons.minimize:t.icons.expand)}})]),s("transition",{attrs:{name:"slide-up"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"drawer-content"},[t._t("drawer-header"),s("div",{staticClass:"drawer-slider"},[t._t("drawer-slider"),null!=t.errorMessage?s("div",{staticClass:"message"},[s("div",{staticClass:"content"},[t._v(" "+t._s(t.errorMessage)+" ")])]):t._e()],2)],2)])],1)},n=[],i=(s("a9e3"),s("dca8"),s("a841")),r=s.n(i),o=s("2278"),l=s.n(o),c={props:{title:{type:String},errorMessage:{type:String},openStatus:{type:Number},noTitleBottomPadding:{type:Boolean}},data:function(){return{isOpened:!0,icons:Object.freeze({expand:r.a,minimize:l.a})}},computed:{isOpen:function(){return void 0!==this.openStatus?1===this.openStatus:this.isOpened}},methods:{toggle:function(){this.isOpened=!this.isOpen,this.$emit("toggled",this.isOpened)},open:function(){this.isOpened=!0,this.$emit("toggled",this.isOpened)}}},d=c,u=(s("0076"),s("2877")),g=Object(u["a"])(d,a,n,!1,null,null,null);e["a"]=g.exports},bcee:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 14a1 1 0 1 1 0-2 1 1 0 0 1 0 2m10-2H7.815A2.995 2.995 0 0 0 5 10a2.996 2.996 0 0 0-2.816 2H1a1 1 0 0 0 0 2h1.184A2.995 2.995 0 0 0 5 16a2.993 2.993 0 0 0 2.815-2H15a1 1 0 0 0 0-2m-4-3a1 1 0 1 1 0-2 1 1 0 0 1 0 2m4-2h-1.185A2.995 2.995 0 0 0 11 5a2.996 2.996 0 0 0-2.816 2H1a1 1 0 0 0 0 2h7.184A2.995 2.995 0 0 0 11 11a2.993 2.993 0 0 0 2.815-2H15a1 1 0 0 0 0-2M5 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2m10-2H7.815A2.995 2.995 0 0 0 5 0a2.996 2.996 0 0 0-2.816 2H1a1 1 0 0 0 0 2h1.184A2.995 2.995 0 0 0 5 6a2.993 2.993 0 0 0 2.815-2H15a1 1 0 0 0 0-2"></path></svg>'},d0cd:function(t,e,s){},dfb3:function(t,e,s){},e372:function(t,e,s){"use strict";s("80ee")},eb6f:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row user-tasks-page",on:{click:function(e){t.openCreateBtn&&(t.openCreateBtn=!1)}}},[s("broken-task-modal"),s("task-modal",{ref:"taskModal",attrs:{task:t.editingTask||t.creatingTask,purpose:null!==t.creatingTask?"create":"edit"},on:{cancel:function(e){return t.cancelTaskModal()}}}),s("task-summary",{ref:"taskSummary",attrs:{task:t.editingTask},on:{cancel:function(e){return t.cancelTaskModal()}}}),s("div",{staticClass:"col-12"},[s("div",{staticClass:"row tasks-navigation"},[s("div",{staticClass:"col-12 col-md-4 offset-md-4"},[s("div",{staticClass:"d-flex"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"form-control input-search",attrs:{type:"text",placeholder:t.$t("search")},domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value)}}}),s("button",{staticClass:"btn btn-secondary dropdown-toggle ml-2 d-flex align-items-center search-button",class:{active:t.selectedTags.length>0},attrs:{type:"button"},on:{click:function(e){return t.toggleFilterPanel()}}},[s("div",{staticClass:"svg-icon filter-icon mr-2",domProps:{innerHTML:t._s(t.icons.filter)}}),t._m(0)])]),t.isFilterPanelOpen?s("div",{staticClass:"filter-panel",on:{mouseleave:t.checkMouseOver}},[t._l(t.tagsByType,(function(e){return e.tags.length>0||"tags"===e.key?s("div",{key:e.key,staticClass:"tags-category d-flex flex-column"},[s("div",{staticClass:"tags-header"},[t._o(s("strong",[t._v(t._s(t.$t(e.key)))]),0,e.key),"groups"===e.key||t.editingTags?t._e():s("a",{staticClass:"d-block",on:{click:function(s){return t.editTags(e.key)}}},[t._v(t._s(t.$t("editTagsText")))])]),s("div",{staticClass:"tags-list container"},[s("div",{staticClass:"row",class:{"no-gutters":!t.editingTags}},[t.editingTags&&"groups"!==e.key?[s("draggable",{staticClass:"row",model:{value:t.tagsSnap[e.key],callback:function(s){t.$set(t.tagsSnap,e.key,s)},expression:"tagsSnap[tagsType.key]"}},[t._l(t.tagsSnap[e.key],(function(a,n){return s("div",{key:a.id,staticClass:"col-6"},[s("div",{staticClass:"inline-edit-input-group tag-edit-item input-group"},[s("div",{staticClass:"svg-icon inline drag",domProps:{innerHTML:t._s(t.icons.drag)}}),s("input",{directives:[{name:"model",rawName:"v-model",value:a.name,expression:"tag.name"}],staticClass:"tag-edit-input inline-edit-input form-control",attrs:{type:"text"},domProps:{value:a.name},on:{input:function(e){e.target.composing||t.$set(a,"name",e.target.value)}}}),s("div",{staticClass:"input-group-append",on:{click:function(s){return t.removeTag(n,e.key)}}},[s("div",{staticClass:"svg-icon destroy-icon",domProps:{innerHTML:t._s(t.icons.destroy)}})])])])})),"tags"===e.key?s("div",{staticClass:"col-6 dragSpace"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newTag,expression:"newTag"}],staticClass:"new-tag-item edit-tag-item inline-edit-input form-control",attrs:{type:"text",placeholder:t.$t("newTag")},domProps:{value:t.newTag},on:{keydown:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.addTag(s,e.key)},input:function(e){e.target.composing||(t.newTag=e.target.value)}}})]):t._e()],2)]:t._e(),t.editingTags&&"groups"!==e.key?t._e():t._l(e.tags,(function(e){return s("div",{key:e.id,staticClass:"col-6"},[s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{staticClass:"custom-control-input",attrs:{id:"tag-"+e.id,type:"checkbox"},domProps:{checked:t.isTagSelected(e)},on:{change:function(s){return t.toggleTag(e)}}}),s("label",{directives:[{name:"markdown",rawName:"v-markdown",value:e.name,expression:"tag.name"}],staticClass:"custom-control-label",attrs:{for:"tag-"+e.id}})])])}))],2)])]):t._e()})),s("div",{staticClass:"filter-panel-footer clearfix"},[!0===t.editingTags?[s("div",{staticClass:"text-center"},[t._m(1),t._m(2)])]:[s("div",{staticClass:"float-left"},[t._m(3)]),s("div",{staticClass:"float-right"},[t._m(4)])]],2)],2):t._e()]),s("div",{staticClass:"create-task-area"},[s("div",{staticClass:"btn btn-primary create-btn d-flex align-items-center",class:{open:t.openCreateBtn},attrs:{id:"create-task-btn",tabindex:"0"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.openCreateBtn=!t.openCreateBtn},keypress:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.openCreateBtn=!t.openCreateBtn}}},[s("div",{staticClass:"svg-icon icon-10 color",domProps:{innerHTML:t._s(t.icons.positive)}}),s("div",{staticClass:"ml-75 mr-1"},[t._v(" "+t._s(t.$t("addTask"))+" ")])]),t.openCreateBtn?s("div",{staticClass:"dropdown"},t._l(t.columns,(function(e){return s("div",{key:e,staticClass:"dropdown-item d-flex px-2 py-1",on:{click:function(s){return t.createTask(e)}}},[s("div",{staticClass:"d-flex align-items-center justify-content-center task-icon"},[s("div",{staticClass:"svg-icon m-auto",class:"icon-"+e,domProps:{innerHTML:t._s(t.icons[e])}})]),s("div",{staticClass:"task-label ml-2"},[t._v(" "+t._s(t.$t(e))+" ")])])})),0):t._e()])]),s("div",{staticClass:"row tasks-columns"},t._l(t.columns,(function(e){return s("task-column",{key:e,staticClass:"col-lg-3 col-md-6",attrs:{type:e,"is-user":!0,"search-text":t.searchTextThrottled,"selected-tags":t.selectedTags},on:{editTask:t.editTask,taskSummary:t.taskSummary,openBuyDialog:function(e){return t.openBuyDialog(e)}}})})),1)]),s("spells")],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[t._v(t._s(t.$t("tags")))])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"mr-3 btn-filters-primary",on:{click:function(e){return t.saveTags()}}},[t._v(t._s(t.$t("saveEdits")))])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"btn-filters-secondary",on:{click:function(e){return t.cancelTagsEditing()}}},[t._v(t._s(t.$t("cancel")))])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"btn-filters-danger",on:{click:function(e){return t.resetFilters()}}},[t._v(t._s(t.$t("resetFilters")))])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"btn-filters-secondary",on:{click:function(e){return t.closeFilterPanel()}}},[t._v(t._s(t.$t("cancel")))])}],i=s("f3f3"),r=(s("dca8"),s("159b"),s("fb6a"),s("99af"),s("a434"),s("ec26")),o=s("2b0e"),l=s("0f32"),c=s.n(l),d=s("0644"),u=s.n(d),g=s("b76a"),h=s.n(g),p=s("dae1"),k=s("f757"),f=s("acdd"),m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.user.stats.lvl>10?s("div",[t.potionClickMode?s("div",{ref:"clickPotionInfo",staticClass:"dragInfo mouse"},[s("div",{staticClass:"spell"},[s("div",{staticClass:"spell-border"},[s("div",{staticClass:"mana"},[s("div",{staticClass:"img",class:"shop_"+t.spell.key+" shop-sprite item-img"})])]),s("div",{staticClass:"details"},[s("p",{staticClass:"notes"},[t._v(" "+t._s("Select a "+t.spell.target)+" ")])])])]):t._e(),s("div",{staticClass:"drawer-wrapper"},[t.user.stats.class&&!t.user.preferences.disableClasses?s("drawer",{directives:[{name:"mousePosition",rawName:"v-mousePosition",value:30,expression:"30"}],attrs:{title:t.drawerTitle,"open-status":t.openStatus},on:{mouseMoved:function(e){return t.mouseMoved(e)},toggled:t.drawerToggled}},[s("div",{attrs:{slot:"drawer-slider"},slot:"drawer-slider"},[s("div",{staticClass:"spell-container"},t._l(t.spells[t.user.stats.class],(function(e,a){return s("div",{key:a,attrs:{id:"spell_"+e.key},on:{click:function(s){!t.spellDisabled(a)&&t.castStart(e)}}},[s("b-popover",{attrs:{target:"spell_"+e.key,triggers:"hover",placement:"top","custom-class":"popover-class"}},[s("div",{staticClass:"popover-wrapper"},[s("div",{staticClass:"popover-title"},[s("div",{staticClass:"popover-title-text"},[t._v(" "+t._s(e.text())+" ")]),s("div",{staticClass:"popover-mana"},[t._o(s("div",{staticClass:"popover-svg-icon",domProps:{innerHTML:t._s(t.icons.mana)}}),0,a),s("div",{staticClass:"popover-mana-count"},[t._v(" "+t._s(e.mana)+" ")])])]),s("div",{staticClass:"popover-description"},[t._v(" "+t._s(t.skillNotes(e))+" ")])])]),s("div",{staticClass:"spell-border",class:{disabled:t.spellDisabled(a)||t.user.stats.lvl<e.lvl,"insufficient-mana":t.user.stats.mp<e.mana}},[s("div",{staticClass:"spell"},[s("div",{staticClass:"details"},[s("div",{staticClass:"img",class:"shop_"+e.key+" shop-sprite item-img"})]),t.user.stats.lvl<e.lvl?s("div",{staticClass:"mana"},[s("div",{staticClass:"mana-text level"},[s("div",[t._v("Level "+t._s(e.lvl))])])]):s("div",{staticClass:"mana"},[s("div",{staticClass:"mana-text"},[t._o(s("div",{staticClass:"svg-icon",domProps:{innerHTML:t._s(t.icons.mana)}}),1,a),s("div",[t._v(t._s(e.mana))])])])])])],1)})),0)])]):t._e()],1)]):t._e()},v=[],y=(s("4de4"),s("cdf5")),b=s("3a61"),T=s("234a"),_=s("5d0e"),C=s("b505"),w=s("21dc"),x=s("2848"),O=s.n(x),$=s("6a92"),S={components:{Drawer:C["a"]},directives:{mousePosition:w["a"]},mixins:[T["a"],_["a"]],data:function(){return{spells:y["a"],applyingAction:!1,spell:{},icons:Object.freeze({mana:O.a}),lastMouseMoveEvent:{},potionClickMode:!1}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(b["d"])({user:"user.data"})),Object(b["c"])({getUnfilteredTaskList:"tasks:getUnfilteredTaskList"})),{},{openStatus:function(){return this.$store.state.spellOptions.spellDrawOpen?1:0},drawerTitle:function(){var t=this.$t(this.user.stats.class);return this.$t("skillsTitle",{classStr:t})}}),mounted:function(){var t=Object($["b"])($["a"].keyConstants.SPELL_DRAWER_STATE);t===$["a"].drawerStateValues.DRAWER_CLOSED&&(this.$store.state.spellOptions.spellDrawOpen=!1)},methods:{drawerToggled:function(t){this.$store.state.spellOptions.spellDrawOpen=t,t?Object($["d"])($["a"].keyConstants.SPELL_DRAWER_STATE,$["a"].drawerStateValues.DRAWER_OPEN):Object($["d"])($["a"].keyConstants.SPELL_DRAWER_STATE,$["a"].drawerStateValues.DRAWER_CLOSED)},spellDisabled:function(t){var e=this.getUnfilteredTaskList("daily").filter((function(t){return!t.completed&&!t.group.id&&t.isDue})).length;return!("frost"!==t||!this.user.stats.buffs.streaks)||"stealth"===t&&this.user.stats.buffs.stealth>=e},skillNotes:function(t){var e=t.notes();return this.user.stats.lvl<t.lvl?e=this.$t("spellLevelTooHigh",{level:t.lvl}):"frost"===t.key&&this.spellDisabled(t.key)||"stealth"===t.key&&this.spellDisabled(t.key)?e=this.$t("spellAlreadyCast"):"stealth"===t.key&&(e=this.$t("spellRogueStealthDaliesAvoided",{originalText:e,number:Object(y["b"])(this.user)})),e},mouseMoved:c()((function(t){this.potionClickMode?(this.$refs.clickPotionInfo.style.left="".concat(t.x+20,"px"),this.$refs.clickPotionInfo.style.top="".concat(t.y+20,"px")):this.lastMouseMoveEvent=t}),10)}},D=S,M=(s("aa16"),s("2877")),E=Object(M["a"])(D,m,v,!1,null,"3b206eaf",null),P=E.exports,j=s("1f2d"),L=s("8bc6"),A=s.n(L),B=s("bcee"),H=s.n(B),F=s("571d"),U=s.n(F),R=s("b36b"),N=s.n(R),z=s("5e38"),Y=s.n(z),I=s("16e3"),W=s.n(I),q=s("348e"),V=s.n(q),G=s("1107"),X=s.n(G),J=s("3d1a"),K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{attrs:{id:"broken-task-modal",title:"Broken Challenge",size:"sm","hide-footer":!0}},[t.brokenChallengeTask&&t.brokenChallengeTask.challenge?s("div",{staticClass:"modal-body"},["TASK_DELETED"===t.brokenChallengeTask.challenge.broken||"CHALLENGE_TASK_NOT_FOUND"===t.brokenChallengeTask.challenge.broken?s("div",[s("h2",[t._v(t._s(t.$t("brokenTask")))]),s("div",[s("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.unlink("keep")}}},[t._v(" "+t._s(t.$t("keepIt"))+" ")]),s("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.removeTask(t.obj)}}},[t._v(" "+t._s(t.$t("removeIt"))+" ")])])]):t._e(),"CHALLENGE_DELETED"===t.brokenChallengeTask.challenge.broken?s("div",[s("h2",[t._v(t._s(t.$t("brokenChallenge")))]),s("div",[s("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.unlink("keep-all")}}},[t._v(" "+t._s(t.$t("keepTasks"))+" ")]),s("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.unlink("remove-all")}}},[t._v(" "+t._s(t.$t("removeTasks"))+" ")])])]):t._e(),"CHALLENGE_CLOSED"===t.brokenChallengeTask.challenge.broken?s("div",[s("h2",{domProps:{innerHTML:t._s(t.$t("challengeCompleted",{user:t.brokenChallengeTask.challenge.winner}))}}),s("div",[s("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.unlink("keep-all")}}},[t._v(" "+t._s(t.$t("keepTasks"))+" ")]),s("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.unlink("remove-all")}}},[t._v(" "+t._s(t.$t("removeTasks"))+" ")])])]):t._e()]):t._e()])},Q=[],Z=s("c964"),tt=(s("96cf"),{mixins:[T["a"]],data:function(){return{brokenChallengeTask:{}}},mounted:function(){var t=this;this.$root.$on("handle-broken-task",(function(e){t.brokenChallengeTask=Object(i["a"])({},e),t.$root.$emit("bv::show::modal","broken-task-modal")}))},beforeDestroy:function(){this.$root.$off("handle-broken-task")},methods:Object(i["a"])(Object(i["a"])({},Object(b["b"])({destroyTask:"tasks:destroy",unlinkOneTask:"tasks:unlinkOneTask",unlinkAllTasks:"tasks:unlinkAllTasks"})),{},{unlink:function(t){var e=this;return Object(Z["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(-1===t.indexOf("-all")){s.next=10;break}return s.next=3,e.unlinkAllTasks({challengeId:e.brokenChallengeTask.challenge.id,keep:t});case 3:return s.next=5,e.$store.dispatch("tasks:fetchUserTasks",{forceLoad:!0});case 5:if("todo"!==e.brokenChallengeTask.type){s.next=8;break}return s.next=8,e.$store.dispatch("tasks:fetchCompletedTodos",{forceLoad:!0});case 8:return e.close(),s.abrupt("return");case 10:e.unlinkOneTask({task:e.brokenChallengeTask,keep:t}),e.close();case 12:case"end":return s.stop()}}),s)})))()},removeTask:function(){window.confirm("Are you sure you want to delete this task?")&&(this.destroyTask(this.brokenChallengeTask),this.close())},close:function(){this.$store.state.brokenChallengeTask={},this.$root.$emit("bv::hide::modal","broken-task-modal")}})}),et=tt,st=(s("9fa4"),Object(M["a"])(et,K,Q,!1,null,"951258d4",null)),at=st.exports,nt={components:{TaskColumn:p["a"],TaskModal:k["a"],TaskSummary:f["a"],spells:P,brokenTaskModal:at,draggable:h.a},directives:{markdown:j["a"]},data:function(){return{columns:["habit","daily","todo","reward"],searchText:null,searchTextThrottled:null,isFilterPanelOpen:!1,openCreateBtn:!1,icons:Object.freeze({positive:A.a,filter:H.a,destroy:U.a,habit:N.a,daily:Y.a,todo:W.a,reward:V.a,drag:X.a}),selectedTags:[],temporarilySelectedTags:[],tagsSnap:{tags:[],challenges:[]},editingTags:!1,newTag:null,editingTask:null,creatingTask:null}},computed:Object(i["a"])(Object(i["a"])({},Object(b["d"])({user:"user.data"})),{},{tagsByType:function(){var t=this.user.tags,e={challenges:{key:"challenges",tags:[]},groups:{key:"groups",tags:[]},user:{key:"tags",tags:[]}};return t.forEach((function(t){t.group?e.groups.tags.push(t):t.challenge?e.challenges.tags.push(t):e.user.tags.push(t)})),e}}),watch:{searchText:c()((function(){this.searchTextThrottled=this.searchText.toLowerCase()}),250)},mounted:function(){this.$store.dispatch("common:setTitle",{section:this.$t("tasks")})},methods:Object(i["a"])(Object(i["a"])({},Object(b["b"])({setUser:"user:set"})),{},{checkMouseOver:c()((function(){this.editingTags||this.closeFilterPanel()}),250),editTags:function(){this.tagsSnap.tags=this.tagsByType.user.tags.slice(),this.tagsSnap.challenges=this.tagsByType.challenges.tags.slice(),this.editingTags=!0},addTag:function(t,e){this.tagsSnap[e].push({id:Object(r["a"])(),name:this.newTag}),this.newTag=null},removeTag:function(t,e){var s=this.tagsSnap[e][t].id,a=this.selectedTags.indexOf(s),n=this.temporarilySelectedTags.indexOf(s);-1!==a&&this.$delete(this.selectedTags,a),-1!==n&&this.$delete(this.temporarilySelectedTags,n),this.$delete(this.tagsSnap[e],t)},saveTags:function(){this.newTag&&this.addTag(null,"tags"),this.tagsByType.user.tags=this.tagsSnap.tags,this.tagsByType.challenges.tags=this.tagsSnap.challenges,this.setUser({tags:this.tagsSnap.tags.concat(this.tagsSnap.challenges)}),this.cancelTagsEditing()},cancelTagsEditing:function(){this.editingTags=!1,this.tagsSnap={tags:[],challenges:[]},this.newTag=null},editTask:function(t){var e=this;this.editingTask=u()(t),o["default"].nextTick((function(){e.$root.$emit("bv::show::modal","task-modal")}))},taskSummary:function(t){var e=this;this.editingTask=u()(t),o["default"].nextTick((function(){e.$root.$emit("bv::show::modal","task-summary")}))},createTask:function(t){var e=this;this.openCreateBtn=!1,this.creatingTask=Object(J["a"])({type:t,text:""},this.user),this.creatingTask.tags=this.selectedTags.slice(),o["default"].nextTick((function(){e.$root.$emit("bv::show::modal","task-modal")}))},cancelTaskModal:function(){this.editingTask=null,this.creatingTask=null},toggleFilterPanel:function(){!0===this.isFilterPanelOpen?this.closeFilterPanel():this.openFilterPanel()},openFilterPanel:function(){this.isFilterPanelOpen=!0,this.temporarilySelectedTags=this.selectedTags.slice()},closeFilterPanel:function(){this.temporarilySelectedTags=[],this.isFilterPanelOpen=!1},resetFilters:function(){this.selectedTags=[],this.closeFilterPanel()},applyFilters:function(){var t=this.temporarilySelectedTags;this.selectedTags=t.slice()},toggleTag:function(t){var e=this.temporarilySelectedTags,s=e.indexOf(t.id);-1===s?e.push(t.id):e.splice(s,1),this.applyFilters()},isTagSelected:function(t){var e=t.id;return-1!==this.temporarilySelectedTags.indexOf(e)},openBuyDialog:function(t){this.$root.$emit("buyModal::showItem",t)}})},it=nt,rt=(s("e372"),Object(M["a"])(it,a,n,!1,null,"432d56a8",null));e["default"]=rt.exports}}]);
//# sourceMappingURL=userTasks.e00f3627.js.map